{"ast":null,"code":"var _jsxFileName = \"/Users/sav/Downloads/main_project/frontend/globaladmin/src/CustomerDetails/Customer.js\";\nimport React, { Component, useRef, useState } from 'react';\nimport { render } from \"@testing-library/react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Customer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      rows: []\n    };\n    this.handleClick = this.handleClick.bind(this);\n    //this.fetchColumns = this.fetchColumns.bind(this);\n  }\n\n  handleClick(e) {\n    e.preventDefault();\n    let accountNo = e.currentTarget.getAttribute('data-column');\n    console.log(accountNo);\n    fetch(\"http://localhost:8081/api/v1/accounts/\" + accountNo, {\n      method: \"DELETE\"\n    }).then(resp => resp.json().then(data => ({\n      status: resp.status,\n      body: data\n    }))).then(resp_json => {\n      console.log(resp_json);\n      if (resp_json.status === 200) {\n        if (resp_json.body) {\n          alert(\"Delete successful\");\n          window.location.reload();\n        } else {\n          alert(\"Delete unsuccessfull\");\n        }\n      }\n    }).catch(error => {\n      alert(error);\n    });\n  }\n  componentDidMount() {\n    let rows = [];\n    fetch(\"http://localhost:8081/api/v1/accounts\", {\n      method: \"GET\"\n    }).then(resp => resp.json().then(data => ({\n      status: resp.status,\n      body: data\n    }))).then(resp_json => {\n      console.log(resp_json.body);\n      if (resp_json.status === 200) {\n        let parent_ele = document.getElementById('list');\n        let ele = parent_ele.querySelector('table');\n        for (let i = 0; i < resp_json.body.length; i++) {\n          rows.push( /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\" \", resp_json.body[i]['accountNo'], \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\" \", resp_json.body[i]['customerNo']]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\" \", resp_json.body[i]['branchId'], \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\" \", resp_json.body[i]['balance'], \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\" \", resp_json.body[i]['openingDate'], \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: this.handleClick,\n                \"data-column\": resp_json.body[i]['accountNo'],\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 22\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this));\n        }\n        console.log(ele.innerHTML);\n        this.setState({\n          rows: rows\n        });\n      } else {\n        alert(resp_json.message);\n        window.location.reload();\n      }\n    }).catch(error => {\n      alert(error);\n    });\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"customer\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \" Global Bank Customer Details \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        id: \"list\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          id: \"table\",\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Account No\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Customer No\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Branch id\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Balance\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Opening Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), this.state.rows]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default Customer;","map":{"version":3,"names":["React","Component","useRef","useState","render","Customer","constructor","props","state","rows","handleClick","bind","e","preventDefault","accountNo","currentTarget","getAttribute","console","log","fetch","method","then","resp","json","data","status","body","resp_json","alert","window","location","reload","catch","error","componentDidMount","parent_ele","document","getElementById","ele","querySelector","i","length","push","innerHTML","setState","message"],"sources":["/Users/sav/Downloads/main_project/frontend/globaladmin/src/CustomerDetails/Customer.js"],"sourcesContent":["import React, { Component, useRef, useState } from 'react';\r\nimport { render } from \"@testing-library/react\";\r\n\r\nclass Customer extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      rows: []\r\n    }\r\n\r\n    this.handleClick = this.handleClick.bind(this);\r\n    //this.fetchColumns = this.fetchColumns.bind(this);\r\n\r\n  }\r\n\r\n  handleClick(e) {\r\n    e.preventDefault();\r\n    let accountNo = e.currentTarget.getAttribute('data-column');\r\n    console.log(accountNo)\r\n\r\n    fetch(\"http://localhost:8081/api/v1/accounts/\" + accountNo,\r\n      {\r\n        method: \"DELETE\"\r\n      }).then(resp => resp.json().then(data => ({ status: resp.status, body: data }))).\r\n      then(resp_json => {\r\n        console.log(resp_json)\r\n        if (resp_json.status === 200) {\r\n          if (resp_json.body) {\r\n            alert(\"Delete successful\");\r\n            window.location.reload();\r\n          }\r\n          else {\r\n            alert(\"Delete unsuccessfull\")\r\n          }\r\n        }\r\n      }).catch(error => {\r\n        alert(error)\r\n      })\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    let rows = []\r\n    fetch(\"http://localhost:8081/api/v1/accounts\",\r\n      {\r\n        method: \"GET\"\r\n\r\n      }).then(resp => resp.json().then(data => ({ status: resp.status, body: data }))).\r\n      then(resp_json => {\r\n        console.log(resp_json.body)\r\n        if (resp_json.status === 200) {\r\n          let parent_ele = document.getElementById('list');\r\n          let ele = parent_ele.querySelector('table');\r\n          for (let i = 0; i < resp_json.body.length; i++) {\r\n            rows.push(\r\n              <tr>\r\n                <td> {resp_json.body[i]['accountNo']} </td>\r\n                <td> {resp_json.body[i]['customerNo']}</td>\r\n                <td> {resp_json.body[i]['branchId']} </td>\r\n                <td> {resp_json.body[i]['balance']} </td>\r\n                <td> {resp_json.body[i]['openingDate']} </td>\r\n                <td> <button onClick={this.handleClick} data-column={resp_json.body[i]['accountNo']}>Delete</button></td>\r\n              </tr>);\r\n          }\r\n          console.log(ele.innerHTML)\r\n          this.setState({ rows: rows })\r\n        }\r\n\r\n        else {\r\n          alert(resp_json.message)\r\n          window.location.reload();\r\n        }\r\n      }).catch(error => {\r\n        alert(error)\r\n      })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='customer'>\r\n        <h1> Global Bank Customer Details </h1>\r\n        <div className=\"App\" id='list'>\r\n          <table id='table'>\r\n            <tr>\r\n              <th>Account No</th>\r\n              <th>Customer No</th>\r\n              <th>Branch id</th>\r\n              <th>Balance</th>\r\n              <th>Opening Date</th>\r\n              <th>Action</th>\r\n            </tr>\r\n            {this.state.rows}\r\n          </table>\r\n\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default Customer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}