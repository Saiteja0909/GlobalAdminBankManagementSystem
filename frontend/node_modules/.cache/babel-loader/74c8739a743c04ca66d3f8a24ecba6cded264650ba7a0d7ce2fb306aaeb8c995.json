{"ast":null,"code":"var _jsxFileName = \"/Users/sav/Downloads/main_project/frontend/globaladmin/src/BranchDetails/Branch.js\";\nimport React, { Component, useRef, useState } from 'react';\nimport { render } from \"@testing-library/react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Branch extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      rows: []\n    };\n    this.handleClick = this.handleClick.bind(this);\n    //this.fetchColumns = this.fetchColumns.bind(this);\n  }\n\n  handleClick(e) {\n    e.preventDefault();\n    let branchId = e.currentTarget.getAttribute('data-column');\n    fetch(\"http://localhost:8081/api/v1/branches/\" + branchId, {\n      method: \"DELETE\"\n    }).then(resp => resp.json().then(data => ({\n      status: resp.status,\n      body: data\n    }))).then(resp_json => {\n      console.log(resp_json);\n      if (resp_json.status === 200) {\n        if (resp_json.body) {\n          alert(\"Delete successful\");\n          window.location.reload();\n        } else {\n          alert(\"Delete unsuccessfull\");\n        }\n      }\n    }).catch(error => {\n      alert(error);\n    });\n  }\n  componentDidMount() {\n    let rows = [];\n    fetch(\"http://localhost:8081/api/v1/branches\", {\n      method: \"GET\"\n    }).then(resp => resp.json().then(data => ({\n      status: resp.status,\n      body: data\n    }))).then(resp_json => {\n      console.log(resp_json.body);\n      if (resp_json.status === 200) {\n        for (let i = 0; i < resp_json.body.length; i++) {\n          rows.push( /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\" \", resp_json.body[i]['branchId'], \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\" \", resp_json.body[i]['branchName']]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\" \", resp_json.body[i]['branchAddress'], \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: this.handleClick,\n                \"data-column\": resp_json.body[i]['branchId'],\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 22\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }, this));\n        }\n        this.setState({\n          rows: rows\n        });\n      } else {\n        alert(resp_json.message);\n        window.location.reload();\n      }\n    }).catch(error => {\n      alert(error);\n    });\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"branch\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \" Global Bank Branch Details \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Branch id\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Branch Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Branch Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this), this.state.rows]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default Branch;","map":{"version":3,"names":["React","Component","useRef","useState","render","Branch","constructor","props","state","rows","handleClick","bind","e","preventDefault","branchId","currentTarget","getAttribute","fetch","method","then","resp","json","data","status","body","resp_json","console","log","alert","window","location","reload","catch","error","componentDidMount","i","length","push","setState","message"],"sources":["/Users/sav/Downloads/main_project/frontend/globaladmin/src/BranchDetails/Branch.js"],"sourcesContent":["import React, { Component, useRef, useState } from 'react';\r\nimport { render } from \"@testing-library/react\";\r\n\r\nclass Branch extends Component{\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      rows: []\r\n    }\r\n\r\n    this.handleClick = this.handleClick.bind(this);\r\n    //this.fetchColumns = this.fetchColumns.bind(this);\r\n\r\n  }\r\n\r\n  handleClick(e) {\r\n    e.preventDefault();\r\n    let branchId = e.currentTarget.getAttribute('data-column');\r\n\r\n    fetch(\"http://localhost:8081/api/v1/branches/\" + branchId,\r\n      {\r\n        method: \"DELETE\"\r\n      }).then(resp => resp.json().then(data => ({ status: resp.status, body: data }))).\r\n      then(resp_json => {\r\n        console.log(resp_json)\r\n        if (resp_json.status === 200) {\r\n          if (resp_json.body) {\r\n            alert(\"Delete successful\");\r\n            window.location.reload();\r\n          }\r\n          else {\r\n            alert(\"Delete unsuccessfull\")\r\n          }\r\n        }\r\n      }).catch(error => {\r\n        alert(error)\r\n      })\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    let rows = []\r\n    fetch(\"http://localhost:8081/api/v1/branches\",\r\n      {\r\n        method: \"GET\"\r\n\r\n      }).then(resp => resp.json().then(data => ({ status: resp.status, body: data }))).\r\n      then(resp_json => {\r\n        console.log(resp_json.body)\r\n        if (resp_json.status === 200) {\r\n          for (let i = 0; i < resp_json.body.length; i++) {\r\n            rows.push(\r\n              <tr>\r\n                <td> {resp_json.body[i]['branchId']} </td>\r\n                <td> {resp_json.body[i]['branchName']}</td>\r\n                <td> {resp_json.body[i]['branchAddress']} </td>\r\n                <td> <button onClick={this.handleClick} data-column={resp_json.body[i]['branchId']}>Delete</button></td>\r\n              </tr>);\r\n          }\r\n          this.setState({ rows: rows })\r\n        }\r\n\r\n        else {\r\n          alert(resp_json.message)\r\n          window.location.reload();\r\n        }\r\n      }).catch(error => {\r\n        alert(error)\r\n      })\r\n  }\r\n\r\n     render(){\r\n        return(\r\n            <div className='branch'>\r\n                <h1> Global Bank Branch Details </h1>\r\n            <div className=\"App\">\r\n            <table>\r\n              <tr>\r\n                <th>Branch id</th>\r\n                <th>Branch Name</th>\r\n                <th>Branch Address</th>\r\n                <th>Action</th>\r\n              </tr>\r\n              {this.state.rows}\r\n              </table>\r\n          </div>\r\n          </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default Branch;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}